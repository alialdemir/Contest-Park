<?xml version="1.0" encoding="UTF-8" ?>
<ContentView
    x:Class="ContestPark.Mobile.Components.RankView"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:Components="clr-namespace:ContestPark.Mobile.Components"
    xmlns:converter="clr-namespace:ContestPark.Mobile.Converters"
    xmlns:extension="clr-namespace:Xamarin.Forms.Skeleton;assembly=Xamarin.Forms.Skeleton"
    x:Name="rankView">
    <ContentView.Resources>
        <ResourceDictionary>
            <converter:SkeletonLoadingConverter x:Key="slc" />
        </ResourceDictionary>
    </ContentView.Resources>
    <ContentView.Content>
        <Grid
            extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
            extension:Skeleton.IsParent="True"
            RowSpacing="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="50" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="30" />
                <ColumnDefinition Width="50" />
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="80" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Label
                Grid.Row="0"
                Grid.Column="0"
                Margin="0,8,0,8"
                extension:Skeleton.BackgroundColor="{StaticResource SkeletonLoading}"
                extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
                FontFamily="{StaticResource SofiaProRegular}"
                FontSize="15"
                HorizontalTextAlignment="Center"
                Text="{Binding Source={x:Reference rankView}, Path=Rank}"
                TextColor="#181C2F"
                VerticalTextAlignment="Center" />

            <Components:CircleImage
                Grid.Row="0"
                Grid.Column="1"
                extension:Skeleton.BackgroundColor="{StaticResource SkeletonLoading}"
                extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
                Command="{Binding Path=GotoProfilePageCommand, Source={x:Reference rankView}}"
                CommandParameter="{Binding UserName}"
                HeightRequest="32"
                Source="{Binding UserProfilePicturePath}"
                VerticalOptions="Center"
                WidthRequest="32" />

            <Label
                Grid.Row="0"
                Grid.Column="2"
                extension:Skeleton.BackgroundColor="{StaticResource SkeletonLoading}"
                extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
                FontFamily="{StaticResource SofiaProRegular}"
                FontSize="15"
                LineBreakMode="TailTruncation"
                Text="{Binding UserFullName}"
                TextColor="#181C2F"
                VerticalOptions="Center" />

            <Label
                x:Name="lblScore"
                Grid.Row="0"
                Grid.Column="3"
                extension:Skeleton.BackgroundColor="{StaticResource SkeletonLoading}"
                extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
                FontAttributes="Bold"
                FontFamily="{StaticResource SofiaProSemiBold}"
                FontSize="15"
                HorizontalOptions="End"
                MinimumWidthRequest="32"
                Text="{Binding TotalScore}"
                TextColor="#F53D6B"
                VerticalOptions="Center" />

            <Image
                x:Name="imgCoins"
                Grid.Column="4"
                Margin="0,8,16,0"
                extension:Skeleton.BackgroundColor="{StaticResource SkeletonLoading}"
                extension:Skeleton.IsBusy="{Binding ., Converter={StaticResource slc}}"
                Aspect="AspectFit"
                HeightRequest="32"
                WidthRequest="32" />
        </Grid>
    </ContentView.Content>
</ContentView>
